%%==============================================================================
%% Base Protocol
%%==============================================================================

-define(APP, ride_log).

%%------------------------------------------------------------------------------
%% Latitude
%%------------------------------------------------------------------------------
-type lat() :: float().

%%------------------------------------------------------------------------------
%% Longitude
%%------------------------------------------------------------------------------
-type lng() :: float().

%%------------------------------------------------------------------------------
%% Lat/Lng Position
%%------------------------------------------------------------------------------
-type position() :: {lat(), lng()}.

%%------------------------------------------------------------------------------
%% Id - unique id
%%------------------------------------------------------------------------------
-type id() :: binary().

%%------------------------------------------------------------------------------
%% Point Name - describes the Point
%% Default:
%% - undefined
%% Reserved point names are:
%% - start
%% - finish
%%------------------------------------------------------------------------------
-type point_name() :: atom().

%%------------------------------------------------------------------------------
%% Point - all data that makes up a single Point on a Ride
%%------------------------------------------------------------------------------
-type point() :: #{
  id := id(),
  lat := lat(),
  lng := lng(),
  time := erlang:timestamp(),
  elevation := integer(),
  name => point_name()
}.

%%------------------------------------------------------------------------------
%% Rider
%%------------------------------------------------------------------------------
-record(rider, {
  id :: id(),
  name :: binary()
}).

%%------------------------------------------------------------------------------
%% Ride Points
%%------------------------------------------------------------------------------
-record(ride_points, {
  ride_id,
  rider_id,
  point_dt,
  point_name,
  point_lat,
  point_lng
}).
